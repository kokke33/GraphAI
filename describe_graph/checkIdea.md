
# :star:checkIdea
このGraphAIのコードは、ユーザーとの相談を進行するためのフローを定義しています。以下に、その主要な構成要素と流れについて説明します。

## 1. **バージョンとループ**:
   - バージョンは0.5で、無限ループを設定しています。これは、ユーザーが「bye」と入力するまで、フローが続くことを意味します。

## 2. **ノードの説明**:
   - **continue**: ループが続くかどうかを示すブール値を持ち、`checkInput`からの更新を受けます。
   - **userInput**: ユーザーに相談内容を入力させるためのエージェントです。
   - **checkInput**: ユーザーの入力が「bye」でないかを確認します。
   - **summary**: 会話の要約を格納するための空の配列です。
   - **accumulationSummary**: 会話の要約を生成するテンプレートエージェントです。
   - **reducer**: 新しい要約を`summary`配列に追加するためのエージェントです。
   - **suggestIdea**: ユーザーの相談内容に対するアイデアを生成します。
   - **suggestIdea_LLM**: OpenAIのエージェントを使用して、アイデアを生成します。
   - **evaluationIdeas**: 生成したアイデアを評価するためのテンプレートです。
   - **evaluationIdeas_LLM**: アイデアの評価を行うOpenAIのエージェントです。
   - **selectTop3**: 提案されたアイデアから最も適切な3つを選定します。
   - **selectTop3_LLM**: 選定したアイデアの評価を行うOpenAIのエージェントです。
   - **output**: 最終的な結果を整形して出力します。
   - **nextQA**: 次の質問を生成するためのテンプレートです。
   - **nextQA_LLM**: 次の質問を生成するOpenAIのエージェントです。
   - **summaryChat**: ユーザーの相談内容と対応策をまとめるためのテンプレートです。
   - **summaryChat_LLM**: まとめた内容を生成するOpenAIのエージェントです。
   - **matome**: 会話の流れを整形して出力します。

## 3. **フローの流れ**:
   - ユーザーが相談内容を入力すると、それが`userInput`ノードで処理されます。
   - 入力が「bye」でない場合、アイデアの提案が行われ、生成されたアイデアは評価されます。
   - 評価されたアイデアの中からトップ3が選ばれ、それに基づいて次の質問が生成されます。
   - 最終的に、すべての結果が出力され、会話の流れがまとめられます。

このフローによって、ユーザーとのインタラクションがスムーズに進み、相談内容に基づいた具体的なアイデアや質問が生成されます。