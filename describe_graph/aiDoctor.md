# GraphAIを使用したユーザー情報収集システム

このJSONデータは、GraphAIを使用してユーザーから段階的に情報を収集し、医師への報告用に整形するインタラクティブなプロセスを定義するデータフローグラフを示しています。以下は、このデータの主要な部分とその機能についての説明です。

### 構成要素

1. **初期プロンプト**:
   - `First_prompt`ノードは、ユーザーに名前をカタカナまたはローマ字で入力するよう促します。

2. **情報収集ループ**:
   - `nestedNode1`ノードが、ユーザーからの情報収集を管理するメインループを制御します。

3. **ノードの詳細**:
   - `continue`: ループの継続を判断します。
   - `information`: 収集した情報を保存します。
   - `messages`: ユーザーへの指示メッセージを初期化します。
   - `userInput`: ユーザーからの入力を受け取ります。
   - `userMessage`: ユーザーの入力をフィルタリングしてメッセージを作成します。
   - `appendedMessages`: ユーザーのメッセージを既存のメッセージ配列に追加します。
   - `llm`: OpenAIのAIモデルを使用して応答を生成します。
   - `reducer`: AIからの応答をメッセージに追加します。
   - `output`: AIの応答をコンソールに表示します。
   - `meaning_llm`: ユーザー情報を基に年齢と応急処置を追加し、医師への報告用に文章を整形します。
   - `argumentsParser`: 整形された情報を保存します。
   - `loopCheck`: ユーザーからの応答に基づいてループを継続するか確認します。

4. **結果表示**:
   - `nestedNode1_result`ノードは、収集された情報を表示します。

### 全体の流れ

1. ユーザーが名前を入力します。
2. システムが段階的に誕生日、性別、症状などの情報を収集します。
3. 各ステップでAIが応答を生成し、次の質問を提示します。
4. 収集された情報を基に、年齢計算や応急処置の追加を行い、医師報告用に整形します。
5. 全情報が収集されると、`report`関数が呼び出されます。

このように、GraphAIは非同期データフローを使用して、複雑な情報収集プロセスをシンプルに実現できます。各ノードは特定のタスクを担当し、全体として一貫した流れを作り出します。このアプローチにより、効率的で組織的なユーザーインタラクションが可能になります。